"use strict";(globalThis["webpackChunkq_biz_app"]=globalThis["webpackChunkq_biz_app"]||[]).push([[32],{6032:(e,l,o)=>{o.r(l),o.d(l,{default:()=>N});var t=o(9835);const s={class:"row my-form-container"},a=(0,t._)("div",{class:"bg-brand col-3"},null,-1),n={class:"bg-milk-green col-9"};function r(e,l,o,r,i,u){const c=(0,t.up)("login-form");return(0,t.wg)(),(0,t.iD)("div",s,[a,(0,t._)("div",n,[(0,t.Wm)(c)])])}var i=o(1957),u=o(6970);const c={class:"q-pa-md form-box"},d=["textContent"],m={class:"input-group col-12"},p={class:"input-group col-12"},w={class:"input-group col-12"};function g(e,l,o,s,a,n){const r=(0,t.up)("q-item-section"),g=(0,t.up)("q-btn"),b=(0,t.up)("q-item"),h=(0,t.up)("q-list"),v=(0,t.up)("q-card"),f=(0,t.up)("q-icon"),y=(0,t.up)("q-input"),_=(0,t.up)("q-select"),q=(0,t.up)("q-form"),P=(0,t.Q2)("close-popup"),x=(0,t.Q2)("ripple");return(0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(i.uT,{name:"fade"},{default:(0,t.w5)((()=>[s.isMsg?((0,t.wg)(),(0,t.j4)(v,{key:0,class:(0,u.C_)({msgBox:!0,"bg-red":s.isBgRed,"text-white":!0,"q-pa-none":!0,"q-my-sm":!0})},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{bordered:""},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(b,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t._)("div",{textContent:(0,u.zw)(s.resMsg),style:{"text-transform":"capitalize"}},null,8,d)])),_:1}),(0,t.Wm)(r,{side:""},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(g,{icon:"close",size:"9.5px",color:"red",padding:"3px",align:"center",onClick:l[0]||(l[0]=e=>s.isMsg?s.isMsg=!s.isMsg:null)},null,512),[[P]])])),_:1})])),_:1})),[[x]])])),_:1})])),_:1},8,["class"])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(q,{onSubmit:s.onSubmit,onReset:s.onReset,class:"q-gutter-md form row","text-white":""},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t.Wm)(y,{"bg-color":"white",filled:"",modelValue:s.username,"onUpdate:modelValue":l[1]||(l[1]=e=>s.username=e),label:"Your Username *",hint:"Please Enter Your Username","lazy-rules":"",rules:[e=>s.Validator.username(e)],clearable:"",autocomplete:"off",class:"",counter:""},{prepend:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"person"})])),_:1},8,["modelValue","rules"])]),(0,t._)("div",p,[(0,t.Wm)(y,{modelValue:s.password,"onUpdate:modelValue":l[3]||(l[3]=e=>s.password=e),label:"Your Password *",filled:"",type:s.isPwd?"text":"password",hint:"Please Enter Your Password",counter:"","bg-color":"white",clearable:"",autocomplete:"off","lazy-rules":"",rules:[e=>s.Validator.password(e)]},{append:(0,t.w5)((()=>[s.password?((0,t.wg)(),(0,t.j4)(f,{key:0,name:s.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:l[2]||(l[2]=e=>s.isPwd=!s.isPwd)},null,8,["name"])):(0,t.kq)("",!0)])),prepend:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"lock"})])),_:1},8,["modelValue","type","rules"])]),(0,t._)("div",w,[(0,t.Wm)(_,{modelValue:s.role.role,"onUpdate:modelValue":l[4]||(l[4]=e=>s.role.role=e),options:s.role.options,label:"Enter Your Role",hint:"Choose Your Role",filled:"","bg-color":"white","popup-content-class":"bg-brand text-gainsboro my-br-5","lazy-rules":"",rules:[e=>s.Validator.role(e)],clearable:""},{prepend:(0,t.w5)((()=>[(0,t.Wm)(f,{name:"account_box"})])),_:1},8,["modelValue","options","rules"])]),(0,t._)("div",null,[(0,t.Wm)(g,{label:"Reset",type:"reset",color:"secondary",class:"q-mr-sm","icon-right":"autorenew"}),(0,t.Wm)(g,{label:"Login",type:"submit",color:"",class:"bg-brand","icon-right":"launch"})])])),_:1},8,["onSubmit","onReset"])])}var b=o(9302),h=o(8339),v=o(499);class f{static username(e){return null==e||void 0==e||e.length<0?"username is not allowed to be empty":e.length<3?"username must be more than 3 characters":null}static password(e){return null==e||void 0==e||e.length<1?"password is not allowed to be empty":e.length<5?"password must be more than 5 characters":e.match(/[A-Z]/)?e.match(/[a-z]/)?e.match(/[\d]/)?e.match(/[!@#$%^&*()/\\,.?":;'><]/)?null:"Password must contain at least one special character":"Password must contain at least one number":"Password must contain at least one lowercase":"Password must contain at least one uppercase"}static role(e){return null==e||void 0==e||e.length<1?"Role is not allowed to be empty":null}}const y=(0,v.iH)({role:(0,v.iH)(null),options:["Polling agent","constituency executive","regional executive","national executive","assistant system administrator","system administrator"]}),_=(0,v.iH)(null),q=(0,v.iH)(null),P=(0,v.iH)(!1),x=(0,v.iH)(!1),W="http://localhost:3000/login",Z=(0,v.iH)(null),k=(0,v.iH)(!1),V=(0,v.iH)(!1),C={name:"LoginUser",setup(){(0,b.Z)(),(0,h.tv)();return{username:_,password:q,isPwd:x,accept:P,role:y,Validator:f,loginUrl:W,resMsg:Z,isMsg:k,isBgRed:V,async onSubmit(){const e={username:_.value,password:q.value,role:y.value.role},l=await fetch(W,{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await l.json();if(console.log(o),o.error){V.value=!0,k.value=!0;const e=o.error.msg;Z.value=(0,v.iH)(e.replaceAll(/[\\"']/gm,"")).value}else;},onReset(){_.value=null,q.value=null,P.value=!1}}}};var Q=o(1639),R=o(4458),H=o(3246),z=o(490),M=o(1233),S=o(4455),U=o(8326),Y=o(3119),j=o(2857),I=o(4123),B=o(1136),L=o(2146),T=o(9984),E=o.n(T);const A=(0,Q.Z)(C,[["render",g],["__scopeId","data-v-e95347fc"]]),D=A;E()(C,"components",{QCard:R.Z,QList:H.Z,QItem:z.Z,QItemSection:M.Z,QBtn:S.Z,QForm:U.Z,QInput:Y.Z,QIcon:j.Z,QSelect:I.Z}),E()(C,"directives",{Ripple:B.Z,ClosePopup:L.Z});const F={name:"LoginPage",components:{"login-form":D}},J=(0,Q.Z)(F,[["render",r]]),N=J}}]);